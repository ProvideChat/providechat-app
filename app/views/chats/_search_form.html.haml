= form_tag chats_path, :method => 'get', class: 'form-horizontal' do
  %fieldset
    .form-group
      %label.col-md-3.control-label Ticket ID
      .col-md-9
        = text_field_tag "chat_id", nil, :class => "form-control"
    .form-group
      %label.col-md-3.control-label Agent
      .col-md-9
        = select_tag :agent_ids, options_from_collection_for_select(@agents, "id", "name"), {:multiple => true, :style => "width:100%", :class  => "select2", :placeholder => "Select agent(s)" }
    .form-group
      %label.col-md-3.control-label Website
      .col-md-9
        = select_tag :website_ids, options_from_collection_for_select(@websites, "id", "name"), {:multiple => true, :style => "width:100%", :class  => "select2", :placeholder => "Select website(s)" }
    .form-group
      .col-md-3
      .col-md-4
        .input-group
          %input#from-date.form-control.hasDatepicker{"data-dateformat" => "dd/mm/yy", :placeholder => "From", :type => "text"}/
          %span.input-group-addon
            %i#from-date-icon.fa.fa-calendar
      .col-md-1
      .col-md-4
        .input-group
          %input#to-date.form-control.hasDatepicker{"data-dateformat" => "dd/mm/yy", :placeholder => "To", :type => "text"}/
          %span.input-group-addon
            %i#to-date-icon.fa.fa-calendar
  .widget-footer
    = submit_tag "Search", :class => "btn btn-primary"

:javascript
  $(document).ready(function () {

    $("#from-date").datepicker()
      .on('changeDate', function() {
        $(this).datepicker('hide');
      });

    $("#to-date").datepicker()
      .on('changeDate', function() {
        $(this).datepicker('hide');
      });

    $('#from-date-icon').click(function() {
      $("#from-date").datepicker('show');
    });

    $('#to-date-icon').click(function() {
      $("#to-date").datepicker('show');
    });
  });