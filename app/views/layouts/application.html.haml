!!! 5
%html{lang: "en"}
  %head
    %title Providechat App

    %meta{charset: "utf-8"}
    %meta{content: "IE=edge", "http-equiv" => "X-UA-Compatible"}
    %meta{name: 'viewport', content: 'width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0'}
    %meta{name: "description", content: "Provide Chat Application"}
    %meta{name: "author", content: "Provide Chat software"}

    = favicon_link_tag 'favicon.ico'

    = stylesheet_link_tag "bootstrap"
    = stylesheet_link_tag "smartadmin-production-plugins"
    = stylesheet_link_tag "smartadmin-production"
    = stylesheet_link_tag    "application", media: "all"
    = javascript_include_tag 'application'
    = javascript_include_tag 'modernizr'
    = csrf_meta_tags

    / HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries
    /[if lt IE 9]
      %script{:type => "text/javascript", :src => "https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"}
      %script{:type => "text/javascript", :src => "https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"}

      <!-- GOOGLE FONT -->
      %link{href: "http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,300,400,700", rel: "stylesheet"}
  %body

    = render 'layouts/header'

    %aside#left-panel
      .login-info
        %span
          = link_to edit_agent_path(current_agent) do
            = image_tag(current_agent.avatar.url)
            %span
              = current_agent.name
          .btn-group.pull-right

      = render "layouts/left_nav"

    #main{:role => "main"}
      #content
        = yield

    .page-footer
      .row
        .col-xs-12.col-sm-6
          %span.txt-color-white Provide Chat Â© #{Time.now.year}
        .col-xs-6.col-sm-6.text-right.hidden-xs

    = javascript_include_tag 'smartadmin.config'
    = javascript_include_tag 'jarvis.widget'
    = javascript_include_tag 'smart-notification'
    = javascript_include_tag 'select2'
    = javascript_include_tag 'smartadmin'

    :javascript
      function initialize_nprogress() {
        NProgress.configure({
          showSpinner: false,
          ease: 'ease',
          speed: 500
        });
      }

      $(document).ready(function() {
        pageSetUp();
        initialize_nprogress();
      });

      $(window).bind('page:change', function() {
        pageSetUp();
        initialize_nprogress();
      });
